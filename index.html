<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>vehicle collection</title>
  <!-- bootstrap cdn -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
    crossorigin="anonymous"></script>


  <style>
   body {
    background-image: url(https://cdnb.artstation.com/p/assets/images/images/009/771/777/large/hoshino-yu-x-oidikgoir51vec9jho1-r2-1280.jpg?1520824413);
    background-repeat: no-repeat;
    background-position: center;
    background-size: cover; 
    width: 100%;
    height: 100vh;
  }

  .container{
    background-color: rgba(0, 0, 0, 0.343);
  }


  </style>


</head>

<body>

  <div class="container">
    <h1 class="text-center mb-4 mt-5 text-white"> PARKING VEHICLE DETAILS </h1>

    <!-- Form -->
    <div class=" p-3 mt-2">
      <h3 class="text-white"> ENTER YOUR VEHICLE DETAILS </h3>
      <form class="mt-5" id="bikeForm">
        <input type="hidden" id="editIndex">
        <div class="mb-3">
          <label for="" class="form-label text-white">VEHICLE MODEL</label>
          <input type="text" id="model" class="form-control" placeholder="Enter bike model" required>
        </div>
        <div class="mb-3">
          <label for="" class="form-label text-white">OWNER NAME</label>
          <input type="text" id="owner" class="form-control" placeholder="Enter vehicle owners name" required>
        </div>
        <div class="mb-3">
          <label for="" class="form-label text-white">BRAND</label>
          <input type="text" id="brand" class="form-control" placeholder="Enter vehicle brand" required>
        </div>
        <div class="mb-3">
          <label for="" class="form-label text-white">REGISTRAION NUMBER</label>
          <input type="" id="regno" class="form-control" placeholder="Enter registration number" required>
        </div>
        <button type="" class="btn btn-primary">SAVE</button>
        <button type="" class="btn btn-secondary">CLEAR</button>
      </form>
    </div>

    <!-- Bike List -->
    <h4 class="mb-3 mt-3 text-white">PARKING LOT</h4>
    <div id="bikeList" class="row"></div>
  </div>

</body>

<script>
  let bikes = JSON.parse(localStorage.getItem("bikes")) || [];

  const bikeForm = document.getElementById("bikeForm");
  const bikeList = document.getElementById("bikeList");
  const modelInput = document.getElementById("model");
  const ownerInput = document.getElementById("owner")
  const brandInput = document.getElementById("brand");
  const regnoInput = document.getElementById("regno");
  const editIndexInput = document.getElementById("editIndex");

  // Display bikes
  function renderBikes() {
    bikeList.innerHTML = "";
    bikes.forEach((bike, index) => {
      bikeList.innerHTML += `
          <div class="col-md-4">
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">${bike.model}</h5>
                <p class="card-text"><strong>owner:</strong> ${bike.owner}</p>
                <p class="card-text"><strong>Brand:</strong> ${bike.brand}</p>
                <p class="card-text"><strong>rgistration year:</strong> ${bike.regno}</p>
                <button class="btn btn-warning btn-sm" onclick="editBike(${index})">Edit</button>
                <button class="btn btn-danger btn-sm" onclick="deleteBike(${index})">Delete</button>
              </div>
            </div>
          </div>
        `;
    });
  }

  // Save Bike
  bikeForm.addEventListener("submit", function (e) {
    e.preventDefault();
    const model = modelInput.value.trim();
    const owner = ownerInput.value.trim()
    const brand = brandInput.value.trim();
    const regno = regnoInput.value.trim();
    const editIndex = editIndexInput.value;

    if (editIndex === "") {
      // Add new bike
      bikes.push({ model, owner, brand, regno });
    } else {
      // Update existing bike
      bikes[editIndex] = { model, owner, brand, regno };
      editIndexInput.value = "";
    }

    localStorage.setItem("bikes", JSON.stringify(bikes));
    renderBikes();
    bikeForm.reset();
  });

  // Edit Bike
  function editBike(index) {
    const bike = bikes[index];
    modelInput.value = bike.model;
    ownerInput.value = bike.owner;
    brandInput.value = bike.brand;
    regnoInput.value = bike.regno;
    editIndexInput.value = index;
  }

  // Delete Bike
  function deleteBike(index) {
    bikes.splice(index, 1);
    localStorage.setItem("bikes", JSON.stringify(bikes));
    renderBikes();
  }

  // Initial render
  renderBikes();
</script>

</html>